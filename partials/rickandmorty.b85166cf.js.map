{"mappings":"khBAGA,IAAMA,EAAQC,SAASC,cAAc,uBAC/BC,EAASF,SAASC,cAAc,iBAClCE,EAAO,EAiBX,SAASC,I,IAAeC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EAC7B,OAAOE,MAAM,kDAAuDC,OAALJ,IAAQK,MACrE,SAAAC,GACE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAYtB,SAASC,EAAaC,GACpB,IAAMC,EAASD,EACZE,KAAI,SAAAC,G,IAAGC,EAAKD,EAALC,MAAOC,EAAIF,EAAJE,KAAMR,EAAMM,EAANN,OACnB,MAAO,mDACoBL,OAAfY,EAAM,WACsBZ,OADba,EAAK,6EAEYb,OADJa,EAAK,8DACMb,OAAPK,EAAO,sB,IAGpDS,OACHxB,EAAMyB,mBAAmB,YAAaN,E,CA3CxChB,EAAOuB,iBAAiB,SAExB,WAEErB,EADAD,GAAQ,GAELO,MAAK,SAAAgB,GACJV,EAAaU,EAAKC,SAEdxB,IAASuB,EAAKE,KAAKC,QACrB3B,EAAO4B,QAAS,E,IAGnBC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,OAchC5B,IACGM,MAAK,SAAAgB,GACJV,EAAaU,EAAKC,SAClBzB,EAAO4B,QAAS,C,IAEjBC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E","sources":["src/js/rickandmortyAPI/rickandmortyAPI.js"],"sourcesContent":["// resource\n// https://rickandmortyapi.com/documentation/#rest\n\nconst ulRef = document.querySelector('.js-characters-list');\nconst btnRef = document.querySelector('.js-load-more');\nlet page = 1;\n\nbtnRef.addEventListener('click', onClick);\n\nfunction onClick() {\n  page += 1;\n  fetchCharacter(page)\n    .then(data => {\n      createMarkup(data.results);\n\n      if (page === data.info.pages) {\n        btnRef.hidden = true;\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nfunction fetchCharacter(page = 1) {\n  return fetch(`https://rickandmortyapi.com/api/character?page=${page}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}\n\nfetchCharacter()\n  .then(data => {\n    createMarkup(data.results);\n    btnRef.hidden = false;\n  })\n  .catch(error => console.log(error));\n\nfunction createMarkup(arr) {\n  const markup = arr\n    .map(({ image, name, status }) => {\n      return `<li class=\"js-character-item\">\n      <img src=\"${image}\" alt=\"${name}\" class=\"js-character-img\">\n      <p class=\"js-character-name\">Name: <b>${name}</b></p>\n      <p class=\"js-character-status\">Status: <b>${status}</b></p>\n    </li>`;\n    })\n    .join();\n  ulRef.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$ab3db4cdd57a1934$var$ulRef","document","querySelector","$ab3db4cdd57a1934$var$btnRef","$ab3db4cdd57a1934$var$page","$ab3db4cdd57a1934$var$fetchCharacter","page1","arguments","length","fetch","concat","then","response","ok","Error","status","json","$ab3db4cdd57a1934$var$createMarkup","arr","markup","map","param","image","name","join","insertAdjacentHTML","addEventListener","data","results","info","pages","hidden","catch","error","console","log"],"version":3,"file":"rickandmorty.b85166cf.js.map"}