!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r);var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var i={};function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var u={headers:{"X-RapidAPI-Key":"9b3ff61931msh1b42d77d34e33dap1c29cajsn3d3169","X-RapidAPI-HOST":"free-news.p.rapidapi.com"}},s=new(function(){"use strict";function t(){e(a)(this,t),e(l)(this,"page",1),e(l)(this,"query","")}return e(i)(t,[{key:"getNews",value:function(e){e&&(this.query=e);var t=new URLSearchParams({q:this.query,lang:"en",page:this.page,page_size:10});return fetch("".concat("https://free-news.p.rapidapi.com/v1").concat("/search","?").concat(t),u).then((function(e){return e.json()}))}}]),t}()),d={searchFormEl:document.querySelector(".js-search-form"),loadMoreBtn:document.querySelector(".js-btn-load"),articlesEl:document.querySelector(".js-article-list")};function f(e){var t=e.map((function(e){var t=e.media,n=e.title,o=e.summary,r=e.author;return'<li class="card news-card">\n            <img src="'.concat(t,'" alt="" loading="lazy">\n            <h3>').concat(n,"</h3>\n            <p>").concat(o,"<p>\n            <hr>\n            <span>").concat(r,"</span>\n            </li>\n  ")})).join("");d.articlesEl.insertAdjacentHTML("beforeEnd",t)}d.searchFormEl.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.elements.query.value.trim();e.target.reset(),s.getNews(t).then((function(e){f(e.articles)})),d.loadMoreBtn.disabled=!1,d.articlesEl.innerHTML=""})),d.loadMoreBtn.addEventListener("click",(function(){s.page+=1,s.getNews().then((function(e){f(e.articles),e.page===e.total_pages&&(d.loadMoreBtn.disabled=!0)}))})),r("eHvKh");var p=document.getElementById("root"),h=document.createElement("button");consttoDoApi=new v,h.textContent="Load toDoes",p.append(listEl,h),h.addEventListener("click",(function(){h.disabled=!0,v.fetchToDoes().then((function(e){if(0!==e.length){var t=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return"<li data-id=".concat(e.id,">\n    <p>").concat(e.title,"</p>\n    <input ").concat(e.completed?"checked":"",' type="checkbox"/>\n    </li>')})).join("")}(e);listEl.insertAdjacentHTML("beforeend",t)}else h.style.display="none"})).finally((function(){h.disabled=!1,2===v.page&&(h.textContent="Load More")}))})),p.addEventListener("click",(function(e){var t,n=e.target;if("INPUT"!==n.tagName)return;if(void 0===(null===(t=n.closest("li"))||void 0===t?void 0:t.dataset.id))return}));var v=function(){"use strict";function t(){e(a)(this,t),e(l)(this,"page",1)}return e(i)(t,[{key:"fetchToDoes",value:function(){var e=this,t=new URLSearchParams({_limit:10,_page:this.page});fetch("".concat(BASE_URL,"?").concat(t)).then((function(t){return e.page+=1,t.json()})).catch((function(e){return console.error(e)}))}},{key:"onToDoUpdate",value:function(e,t){return fetch("".concat(BASE_URL,"/").concat(t),{method:"PATCH",body:JSON.stringify({completed:e}),headers:{"Content-type":"application/json; chatset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}}]),t}();e(l)(v,"BASE_URL","https://jsonplaceholder.typicode.com/todos")}();
//# sourceMappingURL=index.9a7b0980.js.map
